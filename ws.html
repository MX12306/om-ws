<!DOCTYPE html>
<html lang="en">
<head>
<title>Socket Communication</title>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script async="true" src="//{{$}}/lib"></script>
</head>
<body>
<script type="text/javascript">

    /**
     * This function is called only for <script> async mode
     */
    function omSocketReady() {
        console.log("OM Socket Ready", omsocket);
        omsocket.on("data", function(packet){
            log(packet);
        });
    }



    function log( data ) {
        $('body').append("<div><pre>"+JSON.stringify(data)+"</pre></div>")
    }

    function send() {
        omsocket.send(99, {"a":"b", "x":"10"});
    }
</script>
<button onclick="send()" id="send">Send ArrayBuffer</button>
</body>
</html>